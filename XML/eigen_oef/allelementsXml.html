<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="XMLUtil.js"></script>
    <script>

        'use strict';
        var doc = loadXMLDoc("allelements.xml");
        var namen = [];
        var symbolElts = doc.querySelectorAll("SYMBOL");

        function toonNode(node) {
            var serializer = new XMLSerializer();
            var str = serializer.serializeToString(node);
            alert(str);
        }

        function toonElem() {
            var doc = loadXMLDoc("allelements.xml");
            var namen = doc.querySelectorAll("NAME");
            var elem = wilElem();

            for (var i = 0; i < namen.length; i++) {
                frm.elemVeld.value = elem;
                //frm.afkortingVeld.value = symbol;
            }
            return elem;

            //  for (var i = 0; i < namen.length; i++) {

            //     if (frm.elemVeld.value == namen[i]) {
            //         frm.afkortingVeld.value = symbol[i];
            //     }

            // }
        }

        function symbolElem() {
            var doc = loadXMLDoc("allelements.xml");
            var symbolElts = doc.querySelectorAll("SYMBOL");
            var symbol = [];
            var symbolElem;
            for (var i = 0; i < symbolElts.length; i++) {
                symbol[i] = symbolElts[i].textContent;
                //symbolElem= symbol[i];
            }
            for (var i = 0; i < namen.length; i++) {

                if (frm.elemVeld.value == namen[i]) {
                    //frm.afkortingVeld.value = symbol[i];
                    symbolElem = symbol[i];
                }

            }
            return symbolElem;
            // ter controle:
            toonNode(doc);
        }
        function controle() {
            // var btn=document.getElementById("btnControle");
            // btn.value= 'Controle';
           
           
            var symbol = symbolElem();
            var teller = "";
            if (frm.afkortingVeld.value == symbol) {
                teller ++;
            } else {
                setScore();
            }
             toonElem();
            symbolElem();
            console.log(teller);
        }
        function setScore() {

            var doc = document;
            var txtScore= document.getElementById("txtScore");
            var pEl = doc.createElement("p");
            pEl.appendChild(doc.createTextNode("Dit is fout."));
            txtScore.appendChild(pEl);
            
        }

        function wilElem(msg) {
            var doc = loadXMLDoc("allelements.xml");
            var namenElts = doc.querySelectorAll("NAME");

            for (var i = 0; i < namenElts.length; i++) {
                namen[i] = namenElts[i].textContent;
            }
            var msg = namen[Math.floor(Math.random() * 10)];

            return msg;
            // ter controle:
            toonNode(doc);
        }

        function init() {
            
            var btnControle = document.getElementById("btnControle");
            btnControle.addEventListener("click", controle);

            // var btnAntw = document.getElementById("btnAntw");
            // btnAntw.addEventListener("click", toonAntw);
        }
        window.onload = init;


    </script>
</head>

<body>
    <form name="frm">
        Chemisch element :
        <input type="text" name="elemVeld" id="elemVeld" /> Afkorting :
        <input type="text" name="afkortingVeld" id="afkortingVeld" />
        <!-- <input type="button" value="Controle" onclick="controle()" /> -->
        <input type="button" value="Start" id="btnControle" />
    </form>
    <div id="txtScore"></div>
</body>

</html>